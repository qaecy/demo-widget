import{F as I,G as C,O,R as h,c as k,n as w,v as l,w as y}from"./chunk-6QX3GPPT.js";import"./chunk-DAQOROHW.js";var L="type.googleapis.com/google.protobuf.Int64Value",v="type.googleapis.com/google.protobuf.UInt64Value";function P(e,t){let n={};for(let r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function d(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>d(t));if(typeof e=="function"||typeof e=="object")return P(e,t=>d(t));throw new Error("Data cannot be encoded in JSON: "+e)}function p(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case L:case v:{let t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>p(t)):typeof e=="function"||typeof e=="object"?P(e,t=>p(t)):e}var T="functions";var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},a=class e extends w{constructor(t,n,r){super(`${T}/${t}`,n||""),this.details=r,Object.setPrototypeOf(this,e.prototype)}};function R(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function U(e,t){let n=R(e),r=n,i;try{let s=t&&t.error;if(s){let o=s.status;if(typeof o=="string"){if(!D[o])return new a("internal","internal");n=D[o],r=o}let c=s.message;typeof c=="string"&&(r=c),i=s.details,i!==void 0&&(i=p(i))}}catch{}return n==="ok"?null:new a(n,r,i)}var g=class{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{let t=await this.auth.getToken();return t?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){let n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){let n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}};var m="us-central1";function F(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new a("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}var N=class{constructor(t,n,r,i,s=m){this.app=t,this.emulatorOrigin=null,this.contextProvider=new g(n,r,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{let o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=m}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}};function $(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function x(e,t,n){return r=>H(e,t,r,n||{})}function M(e,t,n){return r=>S(e,t,r,n||{})}async function G(e,t,n){n["Content-Type"]="application/json";let r;try{r=await fetch(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await r.json()}catch{}return{status:r.status,json:i}}function H(e,t,n,r){let i=e._url(t);return S(e,i,n,r)}async function S(e,t,n,r){n=d(n);let i={data:n},s={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);let c=r.timeout||7e4,E=F(c),u=await Promise.race([G(t,i,s),E.promise,e.cancelAllRequests]);if(E.cancel(),!u)throw new a("cancelled","Firebase Functions instance was deleted.");let A=U(u.status,u.json);if(A)throw A;if(!u.json)throw new a("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new a("internal","Response is missing data field.");return{data:p(f)}}var b="@firebase/functions",_="0.11.10";var J="auth-internal",V="app-check-internal",j="messaging-internal";function B(e){let t=(n,{instanceIdentifier:r})=>{let i=n.getProvider("app").getImmediate(),s=n.getProvider(J),o=n.getProvider(j),c=n.getProvider(V);return new N(i,s,o,c,r)};I(new y(T,t,"PUBLIC").setMultipleInstances(!0)),h(b,_,e),h(b,_,"esm2017")}function W(e=O(),t=m){let r=C(l(e),T).getImmediate({identifier:t}),i=k("functions");return i&&X(r,...i),r}function X(e,t,n){$(l(e),t,n)}function Q(e,t,n){return x(l(e),t,n)}function Z(e,t,n){return M(l(e),t,n)}B();export{a as FunctionsError,X as connectFunctionsEmulator,W as getFunctions,Q as httpsCallable,Z as httpsCallableFromURL};
