<!DOCTYPE html>
<html lang="en" data-beasties-container>
  <head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <meta charset="utf-8">
    <title>QaecyWidget</title>
    <base href="https://qaecy.github.io/demo-widget/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmSU5fCRc4EsA.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmSU5fABc4EsA.woff2) format('woff2');unicode-range:U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmSU5fCBc4EsA.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmSU5fBxc4EsA.woff2) format('woff2');unicode-range:U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmSU5fCxc4EsA.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmSU5fChc4EsA.woff2) format('woff2');unicode-range:U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmSU5fBBc4.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOmCnqEu92Fr1Mu72xKOzY.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOmCnqEu92Fr1Mu5mxKOzY.woff2) format('woff2');unicode-range:U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOmCnqEu92Fr1Mu7mxKOzY.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOmCnqEu92Fr1Mu4WxKOzY.woff2) format('woff2');unicode-range:U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOmCnqEu92Fr1Mu7WxKOzY.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOmCnqEu92Fr1Mu7GxKOzY.woff2) format('woff2');unicode-range:U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOmCnqEu92Fr1Mu4mxK.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmEU9fCRc4EsA.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmEU9fABc4EsA.woff2) format('woff2');unicode-range:U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmEU9fCBc4EsA.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmEU9fBxc4EsA.woff2) format('woff2');unicode-range:U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmEU9fCxc4EsA.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmEU9fChc4EsA.woff2) format('woff2');unicode-range:U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v32/KFOlCnqEu92Fr1MmEU9fBBc4.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}</style>
    <style>@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v142/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format('woff2');}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased;}</style>

    <!-- Pico CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.conditional.min.css">
  <link rel="stylesheet" href="styles.css"></head>
  <body>
    <div style="width: 300px; height: 500px; border: 1px solid; margin: 50px;" id="container">
      <qaecy-widget dark="true" pid="8ca75584-1814-4db5-b88e-6e8ac9140ad6"></qaecy-widget>
      <section class="pico" style="margin-top: 20px">
        <p>Widget settings</p>

        <section>
          <p>Parent size</p>
          <div style="display: flex; gap: 5px">
            <input type="number" name="width" placeholder="Width" value="300" aria-label="Width" id="parent-width">
            <input type="number" name="height" placeholder="Height" value="500" aria-label="Height" id="parent-height">
          </div>
        </section>

        <!-- Dark mode -->
        <label>
          <input id="darkMode" name="darkMode" type="checkbox" role="switch" checked>
          Dark mode
        </label>

        <!-- Demo mode -->
        <label>
          <input id="demoMode" name="demoMode" type="checkbox" role="switch">
          Demo mode
        </label>

        <!-- Mode -->
        <details class="dropdown" id="mode">
          <summary>Mode</summary>
          <ul>
            <li data-value="chat">Chat</li>
            <li data-value="sync">Sync</li>
          </ul>
        </details>

        <section id="demo-prompts">
          <p>Supported demo prompts:</p>
          <ul>
            <li>List files</li>
            <li>Show architectural model</li>
            <li>Show info on door type D01</li>
            <li>What companies are in the project</li>
          </ul>
        </section>

        <section>
          <input type="text" id="project-id" placeholder="Project ID" aria-label="Project ID" value="8ca75584-1814-4db5-b88e-6e8ac9140ad6">
        </section>
      </section>
    </div>
    <script>
      const container = document.getElementById("container");
      const widget = document.getElementsByTagName("qaecy-widget")[0];
      const idInput = document.getElementById("project-id");

      widget.setAttribute("config", `{
        \"apiKey\": \"AIzaSyBJXRDYIQ2yz6we-RLDzmAsGcxxydGuHoU\",
        \"appId\": \"1:734737865998:web:27bdf509f86c51db708b5f\",
        \"measurementId\": \"G-0QWLTN7GWX\"
      }`)

      // setTimeout(() => widget.init({
      //   apiKey: "AIzaSyBJXRDYIQ2yz6we-RLDzmAsGcxxydGuHoU",
      //   appId: "1:734737865998:web:27bdf509f86c51db708b5f",
      //   measurementId: "G-0QWLTN7GWX",
      // }), 100)

      /** SYNC */

      // Example listen to sync event
      widget.addEventListener("syncRequest", (ev) => {
        console.log("Requested sync");

        // Wait 3 seconds and set list
        setTimeout(() => {
          const list = [
            {
              iri: "https://qaecy.sharepoint.com/sites/widget-test/Shared Documents/Screenshot 2024-11-13 at 17.38.08.png",
              name: "Screenshot 2024-11-13 at 17.38.08.png",
              size: 1710074,
              modified: "2024-11-29T11:59:08Z",
              created: "2024-11-29T11:59:08Z",
              modifiedBy: {
                id: "10032003738a66c3",
                name: "Mads Rasmussen",
              },
              createdBy: {
                id: "10032003738a66c3",
                name: "Mads Rasmussen",
              },
              relativePath:
                "/Shared Documents/Screenshot 2024-11-13 at 17.38.08.png",
              data: async (url) => {
                const encoder = new TextEncoder();
                return encoder.encode("Hello world");
              },
            },
            {
              iri: "https://qaecy.sharepoint.com/sites/widget-test/Shared Documents/queryResults (2).json",
              name: "queryResults (2).json",
              size: 3144491,
              modified: "2024-11-29T12:49:04Z",
              created: "2024-11-29T12:49:04Z",
              modifiedBy: {
                id: "10032003738a66c3",
                name: "Mads Rasmussen",
              },
              createdBy: {
                id: "10032003738a66c3",
                name: "Mads Rasmussen",
              },
              relativePath: "/Shared Documents/queryResults (2).json",
              data: async (url) => {
                const encoder = new TextEncoder();
                return encoder.encode("Hello world 2");
              },
            },
          ];
          widget.setSyncList(list);
        }, 3000);
      });

      /** ORGANIZATION INFO */
      widget.addEventListener("organizationInfoRequest", (ev) => {
        console.log("Requested org info");

        setTimeout(() => {
          widget.setOrganizationInfo({
            id: "xx",
            name: "QAECY AG",
            admins: [{
              id: "2lSOoQC1OQTxiHiqT9Nprt6oLzB2",
              name: "Mads",
            }],
            members: [
            {
              id: "2lSOoQC1OQTxiHiqT9Nprt6oLzB2",
              name: "Mads",
            },
            {
              id: "bb",
              name: "Manos",
            },
            {
              id: "cc",
              name: "Philipp",
            },
            {
              id: "dd",
              name: "Christian",
            },
            {
              id: "ee",
              name: "Ali",
            },
            {
              id: "ff",
              name: "Connie",
            },
          ]
          });
        }, 2000);
      });

      /** PROJECT INFO */
      widget.addEventListener("projectInfoRequest", (ev) => {
        console.log("Requested project info");

        setTimeout(() => {
          widget.setProjectInfo({
            id: idInput.value,
            name: "QAECY MVP",
            admins: [{
              id: "2lSOoQC1OQTxiHiqT9Nprt6oLzB2",
              name: "Mads",
            }],
            syncers: [],
            members: [
            {
              id: "2lSOoQC1OQTxiHiqT9Nprt6oLzB2",
              name: "Mads",
            },
            {
              id: "bb",
              name: "Manos",
            },
            {
              id: "cc",
              name: "Philipp",
            },
            {
              id: "dd",
              name: "Christian",
            },
            {
              id: "ee",
              name: "Ali",
            },
            {
              id: "ff",
              name: "Connie",
            },
          ]
          });
        }, 2000);
      });

      /** PROJECT ID */
      idInput.addEventListener("keyup", (ev) => {
        widget.setAttribute("pid", idInput.value);
      });
      idInput.addEventListener("paste", (ev) => {
        widget.setAttribute("pid", idInput.value);
      });

      /** VIEW MODE */

      /** Example, set mode */
      // widget.setAttribute("mode", "chat"); // "sync"|"chat"|"resource"

      /** CHAT */
      widget.setAttribute("mode", "chat");

      /** Settings */
      const demoPromptsSection = document.getElementById("demo-prompts");

      const widthInput = document.getElementById("parent-width");
      widthInput.addEventListener(
        "change",
        () => (container.style.width = `${widthInput.value}px`)
      );
      const heightInput = document.getElementById("parent-height");
      heightInput.addEventListener(
        "change",
        () => (container.style.height = `${heightInput.value}px`)
      );

      const darkModeSwitch = document.getElementById("darkMode");
      darkModeSwitch.addEventListener("change", () =>
        widget.setAttribute("dark", darkModeSwitch.checked)
      );

      const demoModeSwitch = document.getElementById("demoMode");
      demoModeSwitch.addEventListener("change", () =>
      {
        widget.setAttribute("demo", demoModeSwitch.checked)
      }
      );

      const modeDropdown = document.getElementById("mode");
      modeDropdown.addEventListener("click", (event) => {
        if (event.target.tagName === "LI") {
          const selectedOption = event.target.dataset.value;
          widget.setAttribute("mode", selectedOption);

          if (selectedOption === "chat") {
            demoPromptsSection.style.display = "block";
          } else {
            demoPromptsSection.style.display = "none";
          }

          // Close the dropdown after selection (optional)
          modeDropdown.removeAttribute("open");
        }
      });
    </script>
  <link rel="modulepreload" href="chunk-QYMGBB35.js"><link rel="modulepreload" href="chunk-DXPRB53L.js"><link rel="modulepreload" href="chunk-KURCRS57.js"><link rel="modulepreload" href="chunk-GQRBBOHL.js"><link rel="modulepreload" href="chunk-ZX22LQFD.js"><link rel="modulepreload" href="chunk-T3Q3DASN.js"><link rel="modulepreload" href="chunk-TZ2OGJV6.js"><link rel="modulepreload" href="chunk-J6DBCCXH.js"><link rel="modulepreload" href="chunk-L63STUKV.js"><link rel="modulepreload" href="chunk-W3TA7TL2.js"><script src="main.js" type="module"></script></body>
</html>
